server:
  port: 8080

spring:
  datasource:
    url: jdbc:mysql://localhost:3306/heartsphere?useUnicode=true&characterEncoding=utf-8&useSSL=false&serverTimezone=Asia/Shanghai
    username: root
    password: 123456
    driver-class-name: com.mysql.cj.jdbc.Driver
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MySQL8Dialect
  mvc:
    pathmatch:
      matching-strategy: ANT_PATH_MATCHER
  servlet:
    multipart:
      max-file-size: 10MB
      max-request-size: 10MB
  # CORS 配置
  web:
    cors:
      allowed-origins: '*'
      allowed-methods: GET, POST, PUT, DELETE, OPTIONS
      allowed-headers: '*'
      allow-credentials: true
      exposed-headers: '*'

# JWT 配置
jwt:
  secret: ${JWT_SECRET:your-secret-key-change-in-production}
  expiration: 86400000 # 24小时
  refresh-expiration: 604800000 # 7天

# 微信登录配置
wechat:
  app-id: ${WECHAT_APP_ID:your-wechat-app-id}
  app-secret: ${WECHAT_APP_SECRET:your-wechat-app-secret}
  redirect-uri: ${WECHAT_REDIRECT_URI:http://localhost:3000/login/wechat}

# 图片存储配置
app:
  image:
    storage:
      type: ${IMAGE_STORAGE_TYPE:local} # local, oss, s3
      local:
        path: ${IMAGE_STORAGE_PATH:./uploads/images}
      base-url: ${IMAGE_BASE_URL:http://localhost:8081/api/images}  # 注意：端口应与application.properties中的server.port一致，实际访问URL会自动添加 /files/ 前缀
      max-size: ${IMAGE_MAX_SIZE:10485760} # 10MB (单位：字节)
