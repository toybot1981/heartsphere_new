#!/bin/bash

# 服务端测试运行脚本

echo "=========================================="
echo "开始运行服务端测试"
echo "=========================================="

cd "$(dirname "$0")"

# 清理并编译
echo "清理并编译项目..."
mvn clean compile -q

if [ $? -ne 0 ]; then
    echo "❌ 编译失败，请检查代码"
    exit 1
fi

echo "✅ 编译成功"
echo ""

# 运行所有测试
echo "运行所有测试..."
mvn test

if [ $? -eq 0 ]; then
    echo ""
    echo "=========================================="
    echo "✅ 所有测试通过"
    echo "=========================================="
else
    echo ""
    echo "=========================================="
    echo "❌ 部分测试失败"
    echo "=========================================="
    exit 1
fi



