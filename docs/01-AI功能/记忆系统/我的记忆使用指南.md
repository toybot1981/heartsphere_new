# 我的记忆 - 使用指南

**文档版本**: V1.0  
**编写日期**: 2025-12-30  
**适用对象**: 所有用户

---

## 📖 概述

"我的记忆"是 HeartSphere 的智能记忆系统，能够自动从您的日记中提取重要信息，并保存为结构化的记忆。这些记忆可以帮助 AI 角色更好地了解您，提供更个性化的对话体验。

---

## 🎯 核心功能

### 1. 自动记忆提取

当您创建或更新日记时，系统会**自动**从日记内容中提取记忆，包括：

- **个人信息**：姓名、年龄、生日、位置等
- **偏好信息**：兴趣爱好、喜欢的食物、不喜欢的食物等
- **重要时刻**：生日、纪念日、特别事件等
- **情感经历**：您分享的情感体验和感受
- **习惯信息**：作息习惯、使用习惯等
- **情绪模式**：您的情绪变化规律
- **反思内容**：AI 生成的洞察和反思

### 2. 记忆查看

您可以通过"我的记忆"功能查看所有从日记中提取的记忆。

---

## 🚀 如何使用

### 第一步：创建日记

1. 在"显示世界"页面，点击 **"+ 新记录"** 按钮
2. 填写日记标题和内容
3. 可以添加标签（标签会被提取为偏好记忆）
4. 保存日记

**示例日记内容：**
```
标题：今天的心情
内容：今天是我的生日，收到了很多朋友的祝福，非常开心。我喜欢吃巧克力蛋糕，不喜欢太甜的食物。最近工作压力比较大，经常熬夜到12点。
标签：#生日 #开心 #工作
```

### 第二步：查看提取的记忆

1. 在"显示世界"页面，点击 **"🧠 我的记忆"** 按钮
2. 系统会打开记忆查看窗口，显示所有从日记中提取的记忆

### 第三步：筛选和搜索记忆

在记忆查看窗口中，您可以：

- **搜索记忆**：在搜索框中输入关键词，快速找到相关记忆
- **按类型筛选**：选择记忆类型（个人信息、偏好、重要时刻等）
- **按重要性筛选**：选择重要性级别（核心、重要、普通、临时）

---

## 📊 记忆类型说明

### 个人信息 (PERSONAL_INFO)
- **说明**：您的基本信息
- **示例**：姓名、年龄、生日、位置、职业等
- **重要性**：通常是核心或重要级别

### 偏好 (PREFERENCE)
- **说明**：您的兴趣爱好和偏好
- **示例**：喜欢的食物、不喜欢的食物、喜欢的颜色、兴趣爱好等
- **重要性**：通常是重要或普通级别

### 重要时刻 (IMPORTANT_MOMENT)
- **说明**：您生活中的重要事件
- **示例**：生日、纪念日、毕业、结婚、重要成就等
- **重要性**：通常是核心或重要级别

### 情感经历 (EMOTIONAL_EXPERIENCE)
- **说明**：您分享的情感体验
- **示例**：开心、难过、焦虑、兴奋等情感经历
- **重要性**：通常是重要或普通级别

### 习惯 (HABIT)
- **说明**：您的日常习惯和行为模式
- **示例**：作息时间、饮食习惯、运动习惯等
- **重要性**：通常是普通级别

### 情绪模式 (EMOTION_PATTERN)
- **说明**：您的情绪变化规律
- **示例**：早上情绪较好、周末容易焦虑等
- **重要性**：通常是重要级别

### 反思 (REFLECTION)
- **说明**：AI 生成的洞察和反思
- **示例**：从日记中提取的深层思考和感悟
- **重要性**：通常是重要级别

---

## 🎨 记忆重要性级别

### 核心 (CORE)
- **颜色**：红色 (#FF5252)
- **说明**：最重要的记忆，如生日、姓名等
- **特点**：很少变化，长期有效

### 重要 (IMPORTANT)
- **颜色**：橙色 (#FF9800)
- **说明**：重要的记忆，如偏好、重要事件等
- **特点**：相对稳定，中期有效

### 普通 (NORMAL)
- **颜色**：蓝色 (#2196F3)
- **说明**：一般的记忆，如习惯、一般事件等
- **特点**：可能变化，短期有效

### 临时 (TEMPORARY)
- **颜色**：灰色 (#9E9E9E)
- **说明**：临时记忆，如会话上下文等
- **特点**：很快过期，临时有效

---

## 💡 使用技巧

### 1. 如何让系统提取更多记忆？

- **详细描述**：在日记中详细描述您的信息、偏好、经历等
- **使用标签**：添加标签可以帮助系统更好地理解您的偏好
- **分享情感**：分享您的情感经历，系统会提取为情感记忆
- **记录习惯**：记录您的日常习惯，系统会提取为习惯记忆

### 2. 如何查看特定日记的记忆？

- 在记忆查看窗口中，系统会显示每条记忆的来源日记ID
- 您可以通过搜索功能找到特定日记的记忆

### 3. 如何删除不需要的记忆？

- 在记忆列表中，点击记忆卡片右上角的删除按钮
- 确认删除后，该记忆将被永久删除

### 4. 记忆的置信度是什么意思？

- **置信度**：系统对提取的记忆的准确度评估（0-100%）
- **高置信度**（>80%）：信息明确，提取准确
- **中置信度**（50-80%）：信息较明确，提取较准确
- **低置信度**（<50%）：信息不明确，提取可能不准确

---

## 🔍 记忆查看界面说明

### 记忆卡片信息

每条记忆卡片显示以下信息：

1. **记忆类型标签**：显示记忆类型（如"个人信息"、"偏好"等）
2. **重要性标签**：显示重要性级别（如"核心"、"重要"等）
3. **记忆内容**：记忆的具体内容
4. **结构化数据**：如果有结构化数据（如 key-value 对），会显示
5. **标签**：如果记忆包含标签，会显示
6. **使用次数**：该记忆被使用的次数
7. **置信度**：提取的置信度百分比
8. **最后使用时间**：该记忆最后被使用的时间
9. **来源日记**：该记忆来自哪个日记（显示日记ID的前8位）

### 筛选和搜索

- **搜索框**：输入关键词搜索记忆内容
- **类型下拉框**：选择要查看的记忆类型
- **重要性下拉框**：选择要查看的重要性级别

---

## ❓ 常见问题

### Q1: 为什么我的日记没有提取出记忆？

**A**: 可能的原因：
- 日记内容太简单，没有包含可提取的信息
- 日记内容不明确，系统无法识别
- 系统正在处理中，请稍等片刻

**解决方法**：
- 在日记中详细描述您的信息、偏好、经历等
- 使用明确的表达方式
- 等待一段时间后再次查看

### Q2: 提取的记忆不准确怎么办？

**A**: 您可以：
- 删除不准确的记忆
- 在日记中更明确地描述信息，系统会重新提取
- 系统会根据新的信息更新记忆

### Q3: 记忆会过期吗？

**A**: 
- **临时记忆**：会很快过期
- **普通记忆**：可能会在一段时间后过期
- **重要记忆**：长期有效
- **核心记忆**：永久有效

### Q4: 记忆存储在哪里？

**A**: 
- **短期记忆**：存储在 Redis 中（对话上下文等）
- **长期记忆**：存储在 MongoDB 中（用户事实、偏好等）
- 所有记忆都会同步到后端服务器

### Q5: 如何让 AI 角色使用我的记忆？

**A**: 
- 记忆系统会自动在对话中使用相关记忆
- AI 角色会根据您的记忆提供更个性化的回复
- 您无需手动操作，系统会自动处理

---

## 🎯 最佳实践

### 1. 定期写日记
- 定期写日记可以帮助系统积累更多记忆
- 建议每周至少写 2-3 篇日记

### 2. 详细描述信息
- 在日记中详细描述您的信息、偏好、经历等
- 使用具体的例子和细节

### 3. 使用标签
- 为日记添加标签，帮助系统更好地理解您的偏好
- 标签会被提取为偏好记忆

### 4. 分享情感
- 分享您的情感经历，系统会提取为情感记忆
- 这有助于 AI 角色更好地理解您的情绪状态

### 5. 记录重要事件
- 记录您生活中的重要事件，系统会提取为重要时刻记忆
- 这有助于 AI 角色记住您的特殊日子

---

## 📝 示例场景

### 场景1：记录个人信息

**日记内容：**
```
标题：关于我
内容：我叫张三，今年25岁，生日是3月15日。我住在北京，是一名软件工程师。我喜欢编程和阅读，不喜欢运动。
标签：#个人信息 #兴趣
```

**提取的记忆：**
- 个人信息：姓名=张三，年龄=25，生日=3月15日，位置=北京，职业=软件工程师
- 偏好：喜欢编程和阅读，不喜欢运动

### 场景2：记录重要时刻

**日记内容：**
```
标题：今天是个特殊的日子
内容：今天是我和女朋友的恋爱纪念日，我们在一起已经3年了。我们一起去了我们第一次约会的地方，非常浪漫。
标签：#纪念日 #恋爱
```

**提取的记忆：**
- 重要时刻：恋爱纪念日（3年）
- 情感经历：浪漫的纪念日体验

### 场景3：记录习惯

**日记内容：**
```
标题：我的作息习惯
内容：我通常晚上11点睡觉，早上7点起床。我喜欢在早上喝一杯咖啡，然后开始工作。周末我会睡懒觉，通常10点才起床。
标签：#习惯 #作息
```

**提取的记忆：**
- 习惯：晚上11点睡觉，早上7点起床
- 习惯：早上喝咖啡
- 习惯：周末睡懒觉（10点起床）

---

## 🔗 相关文档

- [日记与记忆系统联动说明](./日记与记忆系统联动说明.md)
- [记忆系统需求分析](./需求分析/01-需求分析与架构设计.md)
- [记忆系统API文档](./开发/07-API文档.md)

---

## 📞 技术支持

如果您在使用"我的记忆"功能时遇到问题，请：

1. 检查是否已登录
2. 确认日记是否已保存
3. 等待一段时间后再次查看
4. 如果问题仍然存在，请联系技术支持

---

**最后更新**: 2025-12-30  
**文档维护**: HeartSphere 开发团队


