# 计费数据初始化说明

## 概述

系统在启动时会自动初始化主流的AI模型提供商、模型和计费信息到数据库。

## 初始化的提供商

1. **OpenAI** (`openai`)
   - 显示名称：OpenAI
   - 状态：启用

2. **阿里云通义千问** (`dashscope`)
   - 显示名称：阿里云通义千问
   - 状态：启用

3. **Google Gemini** (`gemini`)
   - 显示名称：Google Gemini
   - 状态：启用

4. **智谱AI** (`zhipu`)
   - 显示名称：智谱AI
   - 状态：启用

5. **字节跳动豆包** (`doubao`)
   - 显示名称：字节跳动豆包
   - 状态：启用

## 初始化的模型

### OpenAI 模型

1. **GPT-4** (`gpt-4`)
   - 类型：文本生成
   - 特点：最强大的通用模型，适合复杂任务
   - 输入Token：¥0.03 / 1K tokens
   - 输出Token：¥0.06 / 1K tokens

2. **GPT-4 Turbo** (`gpt-4-turbo`)
   - 类型：文本生成
   - 特点：GPT-4的优化版本，速度更快，成本更低
   - 输入Token：¥0.01 / 1K tokens
   - 输出Token：¥0.03 / 1K tokens

3. **GPT-3.5 Turbo** (`gpt-3.5-turbo`)
   - 类型：文本生成
   - 特点：性价比高的通用模型
   - 输入Token：¥0.0015 / 1K tokens
   - 输出Token：¥0.002 / 1K tokens

4. **DALL-E 3** (`dall-e-3`)
   - 类型：图片生成
   - 特点：高质量的图像生成
   - 价格：¥0.04 / 张

### 阿里云通义千问模型

1. **通义千问-Max** (`qwen-max`)
   - 类型：文本生成
   - 特点：最强的中文理解能力
   - 输入Token：¥0.008 / 1K tokens
   - 输出Token：¥0.008 / 1K tokens

2. **通义千问-Plus** (`qwen-plus`)
   - 类型：文本生成
   - 特点：平衡性能和成本
   - 输入Token：¥0.002 / 1K tokens
   - 输出Token：¥0.002 / 1K tokens

3. **通义千问-Turbo** (`qwen-turbo`)
   - 类型：文本生成
   - 特点：快速响应，适合高并发场景
   - 输入Token：¥0.0008 / 1K tokens
   - 输出Token：¥0.0008 / 1K tokens

4. **通义万相** (`wanx-v1`)
   - 类型：图片生成
   - 特点：中文场景图像生成
   - 价格：¥0.012 / 张

### Google Gemini 模型

1. **Gemini Pro** (`gemini-pro`)
   - 类型：文本生成
   - 特点：Google的多模态模型
   - 输入Token：¥0.0005 / 1K tokens
   - 输出Token：¥0.0015 / 1K tokens

2. **Gemini Pro Vision** (`gemini-pro-vision`)
   - 类型：文本生成
   - 特点：支持图像理解的多模态模型
   - 输入Token：¥0.0005 / 1K tokens
   - 输出Token：¥0.0015 / 1K tokens

### 智谱AI 模型

1. **GLM-4** (`glm-4`)
   - 类型：文本生成
   - 特点：智谱AI最新大模型
   - 输入Token：¥0.05 / 1K tokens
   - 输出Token：¥0.05 / 1K tokens

2. **GLM-3 Turbo** (`glm-3-turbo`)
   - 类型：文本生成
   - 特点：快速响应的GLM模型
   - 输入Token：¥0.005 / 1K tokens
   - 输出Token：¥0.005 / 1K tokens

### 字节跳动豆包模型

1. **豆包Pro** (`doubao-pro-32k`)
   - 类型：文本生成
   - 特点：豆包高性能模型
   - 输入Token：¥0.0008 / 1K tokens
   - 输出Token：¥0.0008 / 1K tokens

2. **豆包Lite** (`doubao-lite-32k`)
   - 类型：文本生成
   - 特点：轻量级快速模型
   - 输入Token：¥0.00055 / 1K tokens
   - 输出Token：¥0.00055 / 1K tokens

## 初始化机制

1. **幂等性**：初始化服务是幂等的，多次运行不会重复创建数据
2. **自动执行**：应用启动时通过 `CommandLineRunner` 自动执行
3. **事务保护**：使用 `@Transactional` 确保数据一致性
4. **错误处理**：初始化失败不会影响应用启动

## 运行方式

系统启动时会自动运行初始化，日志中会显示：
```
开始初始化计费数据...
初始化提供商: OpenAI (openai)
初始化模型: GPT-4 (gpt-4)
初始化计费配置: GPT-4 - input_token - ¥0.03/per_1k_tokens
...
计费数据初始化完成
```

## 注意事项

1. **价格更新**：当前价格仅供参考，实际价格可能因供应商政策变化而调整
2. **模型特点**：模型特点描述基于一般认知，具体特性请参考官方文档
3. **数据修改**：初始化后的数据可以通过管理后台进行修改
4. **新增模型**：如需添加新模型，可以修改 `BillingInitializationService.java` 或在管理后台手动添加

