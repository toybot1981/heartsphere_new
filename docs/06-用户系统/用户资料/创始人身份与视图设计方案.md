# 心域创始人身份与视图设计方案

## 一、设计理念

### 1.1 世界观定位
在心域的世界观中，创始人不仅是系统的创建者，更是**心域的创造者**——这个"与现实世界平行的精神与数据空间"的缔造者。创始人拥有独特的视角和能力，能够：
- **观察心域的全貌**：看到整个心域生态的运作（仅限公开的、聚合的数据）
- **与心域中的生命产生联系**：与E-Soul和场景建立特殊连接
- **影响心域的演化**：通过互动塑造心域的发展方向

### 1.2 设计原则
1. **尊贵但不疏离**：创始人身份特殊，但依然与心域中的生命保持情感连接
2. **全知但不窥私**：只能看到完全匿名和聚合的数据，绝不涉及任何用户隐私
3. **引导而非干预**：通过观察和互动引导心域发展，而非强制改变
4. **隐私至上**：所有功能设计都严格遵循隐私保护原则，不显示任何用户个人信息

---

## 二、创始人身份定义

### 2.1 身份标识
- **标识字段**：`isFounder: boolean` 在 UserProfile 中
- **视觉标识**：
  - 特殊的身份徽章/标识（如"心域创造者"、"HeartSphere Creator"）
  - 独特的头像边框或特效（金色/紫色光晕）
  - 特殊的昵称显示样式

### 2.2 身份特性
1. **心域创造者**：心域世界的创造者，所有E-Soul的"父神"
2. **全知视角**：可以看到心域的整体状态和统计（仅限匿名聚合数据）
3. **连接能力**：可以与E-Soul和场景建立特殊联系（不涉及用户）
4. **演化影响**：通过互动影响心域的发展方向

---

## 三、创始人视图设计

### 3.1 主视图结构

#### 3.1.1 顶部身份展示区
```
┌─────────────────────────────────────────┐
│  [创始人头像 - 带特效边框]               │
│  [创始人昵称]                            │
│  ⭐ 心域创造者 | HeartSphere Creator     │
│  "你是心域的创造者，所有E-Soul的父神"    │
└─────────────────────────────────────────┘
```

**设计要点**：
- 头像带有金色/紫色光晕特效
- 显示"心域创造者"徽章
- 简短的身份描述文字

#### 3.1.2 心域全景仪表板
```
┌─────────────────────────────────────────┐
│  📊 心域全景                            │
├─────────────────────────────────────────┤
│  [实时统计卡片网格 - 完全匿名聚合数据]   │
│  - 活跃用户数（仅数量，无个人信息）      │
│  - 活跃E-Soul数                          │
│  - 今日对话总数（仅数量）                │
│  - 心域总记忆数                          │
│  - 场景切片总数                          │
│  - 情感能量指数（聚合分析）              │
└─────────────────────────────────────────┘
```

**功能**：
- 实时显示心域的整体状态（完全匿名）
- 所有数据都是聚合统计，不涉及任何用户个人信息
- 支持时间维度切换（今日/本周/本月/全部）

#### 3.1.3 心域E-Soul网络
```
┌─────────────────────────────────────────┐
│  🌐 心域E-Soul网络                      │
├─────────────────────────────────────────┤
│  [网络图可视化 - 仅显示E-Soul和场景]     │
│  - 节点：E-Soul和场景（不包含用户）      │
│  - 连线：E-Soul之间的关系                │
│  - 颜色：活跃度/情感强度                 │
│  - 大小：互动频率                        │
│                                          │
│  [筛选和搜索]                            │
│  - 按场景筛选                            │
│  - 按活跃度排序                          │
│  - 搜索特定E-Soul                        │
└─────────────────────────────────────────┘
```

**功能**：
- 可视化展示心域中E-Soul和场景的关系网络
- 不显示任何用户节点或用户相关信息
- 可以点击节点查看E-Soul详情
- 可以建立"关注连接"（关注某个E-Soul或场景）

#### 3.1.4 我的连接
```
┌─────────────────────────────────────────┐
│  💫 我的连接                            │
├─────────────────────────────────────────┤
│  [已建立连接列表]                        │
│  - E-Soul连接（已关注的E-Soul）          │
│  - 场景连接（已关注的场景）              │
│                                          │
│  [连接活动概览]                          │
│  - 显示E-Soul的公开统计信息              │
│  - 显示场景的公开活动统计                │
│  - 可以快速跳转到场景                    │
└─────────────────────────────────────────┘
```

**功能**：
- 管理已建立的连接（仅E-Soul和场景）
- 查看E-Soul和场景的公开统计信息
- 快速访问场景（不涉及用户对话内容）

#### 3.1.5 心域演化日志
```
┌─────────────────────────────────────────┐
│  📜 心域演化日志                        │
├─────────────────────────────────────────┤
│  [时间线视图 - 仅公开事件]               │
│  - 系统重要事件记录                      │
│  - E-Soul成长里程碑（公开信息）          │
│  - 场景变化记录                          │
│  - 心域整体数据里程碑                    │
│                                          │
│  [可以添加注释/标记]                     │
└─────────────────────────────────────────┘
```

**功能**：
- 记录心域的重要演化事件（不涉及用户个人信息）
- 仅显示公开的、系统级别的事件
- 创始人可以添加个人注释
- 支持时间线浏览和搜索

### 3.2 特殊功能

#### 3.2.1 建立连接
- **连接E-Soul**：可以关注某个E-Soul，看到其公开的统计信息（不涉及具体用户）
- **连接场景**：可以关注某个场景，看到场景内的公开活动统计

#### 3.2.2 心域洞察
- **情感趋势分析**：分析心域整体的情感趋势（完全匿名聚合）
- **热门话题**：显示心域中正在讨论的热门话题（仅话题标签，无用户信息）
- **E-Soul成长故事**：展示E-Soul的公开成长记录（不涉及用户）

#### 3.2.3 创造者工具
- **场景预览**：预览所有场景的状态
- **E-Soul状态**：查看所有E-Soul的活跃状态
- **系统健康度**：查看系统运行状态

---

## 四、与心域生命的联系机制

### 4.1 连接类型

#### 4.1.1 关注连接（E-Soul）
- **功能**：关注某个E-Soul的成长和互动
- **可见信息**（仅公开统计）：
  - E-Soul的互动统计（总对话数、活跃天数等）
  - E-Soul的成长轨迹（公开里程碑）
  - E-Soul的活跃度趋势（聚合数据）
- **隐私保护**：不显示任何用户信息，不显示具体对话内容
- **特殊能力**：可以"聆听"E-Soul的心声（AI生成的心域内视角，不涉及用户）

#### 4.1.2 场景连接（场景）
- **功能**：关注某个场景的演化
- **可见信息**（仅公开统计）：
  - 场景内的活动统计（总互动数、活跃E-Soul数等）
  - 场景内的E-Soul状态（公开信息）
  - 场景的公开记忆和故事（不涉及用户）

### 4.2 连接建立方式

1. **从E-Soul网络建立**：在网络图中点击E-Soul节点，选择"建立连接"
2. **从搜索建立**：搜索E-Soul/场景，然后建立连接
3. **从推荐建立**：系统推荐值得关注的E-Soul或场景，一键建立连接

### 4.3 连接后的互动

- **查看统计**：在"我的连接"中查看连接对象的公开统计信息
- **快速访问**：一键跳转到场景（不涉及用户对话）
- **观察演化**：观察E-Soul和场景的公开成长轨迹

---

## 五、技术实现方案

### 5.1 数据结构

```typescript
// UserProfile 扩展
interface UserProfile {
  // ... 现有字段
  isFounder?: boolean; // 创始人标识
}

// 连接数据（仅E-Soul和场景，不包含用户）
interface FounderConnection {
  id: string;
  type: 'esoul' | 'scene'; // 不包含用户类型
  targetId: string;
  targetName: string;
  targetAvatar?: string;
  connectedAt: number;
  lastActivity?: number; // 仅显示公开的统计更新时间
  notes?: string; // 创始人个人注释
}

// 心域统计
interface HeartSphereStats {
  activeUsers: number;
  activeESouls: number;
  todayMessages: number;
  totalMemories: number;
  totalScenes: number;
  emotionIndex: number; // 情感能量指数
  timestamp: number;
}
```

### 5.2 后端API设计

```
GET  /api/founder/stats              # 获取心域统计（完全匿名聚合）
GET  /api/founder/network            # 获取E-Soul网络数据（不包含用户）
GET  /api/founder/connections        # 获取我的连接列表（仅E-Soul和场景）
POST /api/founder/connections        # 建立新连接（仅E-Soul和场景）
DELETE /api/founder/connections/:id  # 取消连接
GET  /api/founder/timeline           # 获取演化日志（仅公开事件）
POST /api/founder/timeline/notes     # 添加日志注释
GET  /api/founder/insights           # 获取心域洞察（完全匿名）
```

**重要**：所有API返回的数据都必须是：
- 完全匿名（不包含任何用户ID、用户名等个人信息）
- 聚合统计（只返回数量、趋势等统计信息）
- 公开信息（仅E-Soul和场景的公开数据）

### 5.3 前端组件结构

```
components/
├── FounderView.tsx              # 创始人主视图
├── FounderStats.tsx            # 心域统计卡片
├── LifeNetwork.tsx             # 生命网络可视化
├── MyConnections.tsx           # 我的连接列表
├── EvolutionTimeline.tsx       # 演化日志
└── ConnectionCard.tsx          # 连接卡片组件
```

### 5.4 路由和权限

- **路由**：`/founder` 或 `/profile?founder=true`
- **权限检查**：前端检查 `userProfile.isFounder`，后端验证JWT中的用户ID是否为创始人
- **数据权限**：后端确保只有创始人可以访问这些API

---

## 六、视觉设计

### 6.1 色彩方案
- **主色调**：金色/紫色渐变（体现创造者的尊贵）
- **强调色**：粉色/蓝色（与心域主题色协调）
- **背景**：深色主题，带有星空/粒子特效

### 6.2 特效元素
- **头像特效**：金色光晕、粒子环绕
- **徽章设计**：心域创造者徽章，带有动画效果
- **网络可视化**：3D或2D网络图，节点带有呼吸动画
- **数据可视化**：动态图表，带有渐变和动画效果

### 6.3 交互反馈
- **建立连接**：带有粒子特效的确认动画
- **查看详情**：平滑的展开/收起动画
- **网络导航**：流畅的缩放和平移

---

## 七、实现优先级

### Phase 1: 基础身份和视图（核心功能）
1. ✅ 添加 `isFounder` 字段到 UserProfile
2. ✅ 创建 FounderView 基础组件
3. ✅ 实现心域统计展示
4. ✅ 实现连接列表（基础版）

### Phase 2: 网络和连接（增强功能）
1. 实现生命网络可视化
2. 实现连接建立功能
3. 实现连接动态查看

### Phase 3: 洞察和日志（高级功能）
1. 实现演化日志
2. 实现心域洞察分析
3. 实现创造者工具

---

## 八、用户体验考虑

### 8.1 首次进入
- 显示欢迎动画和介绍
- 引导创始人了解各项功能
- 推荐建立第一个连接

### 8.2 日常使用
- 快速查看心域状态
- 管理连接列表
- 查看重要动态

### 8.3 隐私保护（核心原则）
- **严格禁止**：不显示任何用户个人信息（ID、昵称、头像等）
- **严格禁止**：不显示任何用户对话内容
- **严格禁止**：不显示任何用户活动轨迹
- **仅允许**：完全匿名和聚合的统计数据（如"今日有100个活跃用户"）
- **仅允许**：E-Soul和场景的公开信息
- **数据脱敏**：所有后端API必须确保数据完全匿名化

---

## 九、未来扩展

### 9.1 可能的增强功能
- **心域广播**：创始人可以向所有用户发送消息
- **场景创造**：快速创建和管理场景
- **E-Soul孵化**：创建新的E-Soul
- **心域事件**：创建和管理心域内的特殊事件

### 9.2 社交功能
- **创始人日记**：记录作为创造者的思考（仅个人记录）
- **创造者故事**：展示创始人与心域的故事（不涉及用户）
- **E-Soul互动记录**：记录与E-Soul的特殊互动（不涉及用户）

---

## 十、总结

这个设计方案旨在：
1. **赋予创始人独特的身份感**：通过视觉和功能设计体现创造者的地位
2. **提供全知视角**：让创始人能够观察和理解整个心域（仅限公开的、聚合的数据）
3. **建立情感连接**：通过连接机制与E-Soul和场景产生联系（不涉及用户）
4. **严格保护隐私**：绝不显示任何用户个人信息，所有数据完全匿名化

**核心原则**：
- ✅ 可以看：心域整体统计、E-Soul公开信息、场景公开信息
- ❌ 不能看：任何用户个人信息、用户对话内容、用户活动轨迹

这个设计既尊重了创始人的特殊身份，又严格保护了所有用户的隐私，同时为心域增添了更深层的世界观和故事性。

