# 剧本编辑器 UI 改进说明

## 改进目标

使新增的随机事件、限时节点、ending节点、多角色对话等功能更易于操作和理解。

## 已完成的改进

### 1. 使用折叠面板组织高级功能

- **统一的高级功能折叠面板**：将所有高级功能（多角色对话、随机事件、限时节点）组织在一个主折叠面板下
- **子功能折叠面板**：每个高级功能都有独立的折叠面板，点击展开/收起
- **视觉层次清晰**：使用图标（💬 🎲 ⏱️）和颜色区分不同功能
- **状态提示**：折叠面板显示当前配置的数量（如"多角色对话 (3 条)"）

### 2. 节点类型选择优化

- **卡片式选择界面**：将单选的节点类型改为更直观的卡片式布局
- **图标标识**：每个节点类型都有对应的图标（📝 ✨ 🎯）
- **说明文字优化**：在每个卡片下方显示简要说明
- **选中状态明显**：选中的卡片有紫色边框和背景高亮
- **提示信息**：根据选中的节点类型显示相应的使用提示

### 3. 多角色对话编辑改进

- **清晰的字段布局**：使用网格布局，字段标签清晰
- **使用示例**：占位符文本提供具体示例（如"例如：character_123"）
- **视觉反馈**：每个对话条目有独立卡片，删除按钮更明显
- **说明文字**：添加了使用提示（💡 让多个角色在此节点依次发言）

### 4. 随机事件编辑改进

- **字段分组**：相关字段使用网格布局，更易理解
- **类型选择优化**：下拉框选项包含图标（💕 📌 🎁）
- **概率说明**：添加了概率输入说明（"0.5 = 50%"）
- **效果类型清晰**：根据选择的效果类型动态显示相应的输入字段
- **示例占位符**：所有输入字段都有清晰的占位符示例

### 5. 限时节点编辑改进

- **条件显示**：只有设置了限时才显示超时跳转节点选择
- **时间单位明确**：使用"秒"作为时间单位，并在占位符中说明
- **提示信息**：添加了使用场景说明（💡 设置时间限制，玩家必须在指定时间内做出选择）
- **可选说明**：明确说明留空表示无时间限制

### 6. 选项条件编辑改进

- **折叠面板**：条件编辑使用折叠面板，默认折叠，减少视觉干扰
- **条件卡片**：每个条件有独立的卡片，删除按钮更明显
- **字段标签清晰**：所有字段都有清晰的标签说明
- **操作符说明**：比较操作符包含中文说明（如">= 大于等于"）
- **逻辑说明**：明确说明所有条件必须满足（AND逻辑）

### 7. 选项效果编辑改进

- **折叠面板**：效果编辑使用折叠面板
- **效果类型图标**：下拉框选项包含图标（💕 📌 🎁）
- **字段分组**：使用网格布局组织相关字段
- **好感度说明**：好感度变化字段包含正负值说明
- **使用提示**：添加了状态影响的用途说明

## 改进效果

1. **界面更整洁**：使用折叠面板减少视觉干扰，默认只显示必要信息
2. **操作更直观**：字段标签清晰，占位符提供示例，帮助用户理解
3. **功能更易发现**：高级功能统一组织，通过图标和颜色区分
4. **理解更简单**：每个功能都有使用提示和说明文字

## 后续建议

### 移动端编辑器
- 可以考虑在移动端应用相同的改进策略
- 移动端由于屏幕空间限制，折叠面板更加重要

### 预设模板
- 可以为常用配置提供预设模板（如"标准对话节点"、"限时选择节点"等）
- 用户可以基于模板快速创建节点

### 实时预览
- 可以考虑添加实时预览功能，让用户看到配置后的效果

### 验证提示
- 添加字段验证，在用户输入不正确时给出提示（如"角色ID不能为空"）

## 使用建议

1. **新用户**：可以先从基础功能开始，高级功能默认折叠，不会造成干扰
2. **进阶用户**：需要时展开高级功能面板，所有功能都清晰可见
3. **快速配置**：使用折叠面板快速在不同功能间切换，不会迷失在大量字段中

