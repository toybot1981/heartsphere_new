# è·¨æ—¶ç©ºä¿¡ç®±éƒ¨ç½²æ‰§è¡Œæ¸…å•

**æ‰§è¡Œæ—¥æœŸ**: ___________  
**æ‰§è¡Œäºº**: ___________  
**ç¯å¢ƒ**: [ ] å¼€å‘  [ ] æµ‹è¯•  [ ] ç”Ÿäº§

---

## âœ… éƒ¨ç½²å‰æ£€æŸ¥

### 1. ç¯å¢ƒå‡†å¤‡
- [ ] Java 17+ å·²å®‰è£…
- [ ] MySQL 8.0+ å·²å®‰è£…å¹¶è¿è¡Œ
- [ ] Maven 3.8+ å·²å®‰è£…
- [ ] æ•°æ®åº“å·²åˆ›å»ºï¼ˆheartsphereï¼‰
- [ ] æ•°æ®åº“ç”¨æˆ·æƒé™å·²é…ç½®

### 2. ä»£ç å‡†å¤‡
- [ ] ä»£ç å·²æ‹‰å–æœ€æ–°ç‰ˆæœ¬
- [ ] åç«¯ä»£ç ç¼–è¯‘æˆåŠŸ
- [ ] å‰ç«¯ä»£ç æ„å»ºæˆåŠŸï¼ˆå¦‚éœ€è¦ï¼‰
- [ ] é…ç½®æ–‡ä»¶å·²æ›´æ–°

### 3. æ•°æ®åº“å‡†å¤‡
- [ ] æ•°æ®åº“å¤‡ä»½å·²å®Œæˆ
- [ ] è¿ç§»è„šæœ¬æ–‡ä»¶å­˜åœ¨
- [ ] æ•°æ®åº“è¿æ¥é…ç½®æ­£ç¡®

---

## ğŸ“‹ æ‰§è¡Œæ­¥éª¤

### æ­¥éª¤1: éªŒè¯è¿ç§»è„šæœ¬

```bash
cd /Users/admin/Workspace/heartsphere_new/backend
ls -la src/main/resources/db/migration/V20251230__create_mailbox*.sql
```

**æ£€æŸ¥é¡¹**:
- [ ] V20251230__create_mailbox_messages_table.sql
- [ ] V20251230__create_mailbox_conversations_table.sql
- [ ] V20251230__create_mailbox_conversation_messages_table.sql
- [ ] V20251230__create_mailbox_notification_settings_table.sql

**æ‰§è¡Œç»“æœ**: ___________

### æ­¥éª¤2: é…ç½®æ•°æ®åº“è¿æ¥

ç¼–è¾‘ `backend/src/main/resources/application.yml`:

```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/heartsphere?...
    username: your_username
    password: your_password
```

**æ£€æŸ¥é¡¹**:
- [ ] æ•°æ®åº“URLæ­£ç¡®
- [ ] ç”¨æˆ·åå¯†ç æ­£ç¡®
- [ ] æ—¶åŒºè®¾ç½®æ­£ç¡®ï¼ˆAsia/Shanghaiï¼‰

**æ‰§è¡Œç»“æœ**: ___________

### æ­¥éª¤3: æ‰§è¡Œæ•°æ®åº“è¿ç§»

**æ–¹å¼1: è‡ªåŠ¨è¿ç§»ï¼ˆæ¨èï¼‰**

å¯åŠ¨åº”ç”¨ï¼ŒFlywayä¼šè‡ªåŠ¨æ‰§è¡Œï¼š

```bash
cd backend
mvn spring-boot:run
```

**æ£€æŸ¥é¡¹**:
- [ ] åº”ç”¨å¯åŠ¨æ— é”™è¯¯
- [ ] Flywayè¿ç§»æ—¥å¿—æ˜¾ç¤ºæˆåŠŸ
- [ ] è¡¨åˆ›å»ºæˆåŠŸ

**æ–¹å¼2: æ‰‹åŠ¨æ‰§è¡ŒSQL**

```bash
mysql -u root -p heartsphere < src/main/resources/db/migration/V20251230__create_mailbox_messages_table.sql
mysql -u root -p heartsphere < src/main/resources/db/migration/V20251230__create_mailbox_conversations_table.sql
mysql -u root -p heartsphere < src/main/resources/db/migration/V20251230__create_mailbox_conversation_messages_table.sql
mysql -u root -p heartsphere < src/main/resources/db/migration/V20251230__create_mailbox_notification_settings_table.sql
```

**æ‰§è¡Œç»“æœ**: ___________

### æ­¥éª¤4: éªŒè¯æ•°æ®åº“è¡¨

```sql
-- è¿æ¥åˆ°æ•°æ®åº“
mysql -u root -p heartsphere

-- æ£€æŸ¥è¡¨
SHOW TABLES LIKE 'mailbox_%';

-- åº”è¯¥çœ‹åˆ°4ä¸ªè¡¨ï¼š
-- mailbox_messages
-- mailbox_conversations  
-- mailbox_conversation_messages
-- mailbox_notification_settings

-- æ£€æŸ¥è¡¨ç»“æ„
DESCRIBE mailbox_messages;
```

**æ£€æŸ¥é¡¹**:
- [ ] 4ä¸ªè¡¨éƒ½å­˜åœ¨
- [ ] è¡¨ç»“æ„æ­£ç¡®
- [ ] ç´¢å¼•å·²åˆ›å»º

**æ‰§è¡Œç»“æœ**: ___________

### æ­¥éª¤5: éªŒè¯åº”ç”¨å¯åŠ¨

```bash
cd backend
mvn spring-boot:run
```

**æ£€æŸ¥é¡¹**:
- [ ] åº”ç”¨å¯åŠ¨æˆåŠŸ
- [ ] æ— æ•°æ®åº“è¿æ¥é”™è¯¯
- [ ] æ— è¿ç§»é”™è¯¯
- [ ] APIç«¯ç‚¹å¯è®¿é—®

**æ‰§è¡Œç»“æœ**: ___________

### æ­¥éª¤6: åŠŸèƒ½éªŒè¯

#### 6.1 APIæµ‹è¯•

```bash
# 1. ç™»å½•è·å–token
TOKEN=$(curl -X POST http://localhost:8081/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"test","password":"test"}' | jq -r '.token')

# 2. æµ‹è¯•æœªè¯»ç»Ÿè®¡API
curl -X GET "http://localhost:8081/api/mailbox/messages/unread/count" \
  -H "Authorization: Bearer $TOKEN"

# 3. æµ‹è¯•æ¶ˆæ¯åˆ—è¡¨API
curl -X GET "http://localhost:8081/api/mailbox/messages?page=0&size=20" \
  -H "Authorization: Bearer $TOKEN"
```

**æ£€æŸ¥é¡¹**:
- [ ] APIè¿”å›200çŠ¶æ€ç 
- [ ] è¿”å›æ•°æ®æ ¼å¼æ­£ç¡®
- [ ] è®¤è¯æ­£å¸¸

**æ‰§è¡Œç»“æœ**: ___________

#### 6.2 å‰ç«¯éªŒè¯

1. æ‰“å¼€æµè§ˆå™¨è®¿é—®å‰ç«¯
2. ç™»å½•ç³»ç»Ÿ
3. æ‰“å¼€è·¨æ—¶ç©ºä¿¡ç®±
4. éªŒè¯åŠŸèƒ½æ­£å¸¸

**æ£€æŸ¥é¡¹**:
- [ ] æ¶ˆæ¯åˆ—è¡¨æ˜¾ç¤ºæ­£å¸¸
- [ ] æ¶ˆæ¯è¯¦æƒ…æ˜¾ç¤ºæ­£å¸¸
- [ ] å¯¹è¯åŠŸèƒ½æ­£å¸¸
- [ ] æµè§ˆå™¨é€šçŸ¥æ­£å¸¸ï¼ˆéœ€è¦æˆæƒï¼‰

**æ‰§è¡Œç»“æœ**: ___________

---

## âš ï¸ é—®é¢˜è®°å½•

### é‡åˆ°çš„é—®é¢˜

| é—®é¢˜æè¿° | è§£å†³æ–¹æ¡ˆ | çŠ¶æ€ |
|---------|---------|------|
|          |         |      |
|          |         |      |

---

## âœ… å®Œæˆç¡®è®¤

- [ ] æ•°æ®åº“è¿ç§»æ‰§è¡ŒæˆåŠŸ
- [ ] æ‰€æœ‰è¡¨åˆ›å»ºæˆåŠŸ
- [ ] åº”ç”¨å¯åŠ¨æ­£å¸¸
- [ ] APIæ¥å£æ­£å¸¸
- [ ] å‰ç«¯åŠŸèƒ½æ­£å¸¸
- [ ] æ—¥å¿—è¾“å‡ºæ­£å¸¸

**éƒ¨ç½²å®Œæˆæ—¶é—´**: ___________  
**éƒ¨ç½²è´Ÿè´£äººç­¾å**: ___________

---

**æ–‡æ¡£çŠ¶æ€**: æ‰§è¡Œæ¸…å•å·²åˆ›å»º

