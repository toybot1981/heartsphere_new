# æ¸©åº¦æ„Ÿå¼•æ“ç¬¬ä¸‰é˜¶æ®µå®Œæˆæ€»ç»“

**å®Œæˆæ—¥æœŸ**: 2025-12-28  
**é˜¶æ®µ**: ç¬¬ä¸‰é˜¶æ®µ - æ¸©åº¦æ„Ÿè°ƒèŠ‚å±‚  
**çŠ¶æ€**: âœ… å·²å®Œæˆ

---

## ğŸ“‹ å®Œæˆå†…å®¹

### âœ… 1. UIè°ƒèŠ‚å™¨ (UIAdjuster)

**æ–‡ä»¶**: `frontend/services/temperature-engine/adjusters/UIAdjuster.ts`

**åŠŸèƒ½**:
- âœ… åŠ¨æ€æ ·å¼è°ƒæ•´ï¼ˆé¢œè‰²ã€èƒŒæ™¯ã€æ–‡å­—ï¼‰
- âœ… åŠ¨ç”»æ•ˆæœæ§åˆ¶
- âœ… é˜´å½±å’Œåœ†è§’è°ƒæ•´
- âœ… CSSå˜é‡æ³¨å…¥
- âœ… æ ¹æ®æ¸©åº¦æ„Ÿçº§åˆ«è‡ªåŠ¨åˆ‡æ¢ä¸»é¢˜
- âœ… æ”¯æŒå…ƒç´ é€‰æ‹©å™¨é…ç½®

**æ ¸å¿ƒç‰¹æ€§**:
- 4ç§æ¸©åº¦æ„Ÿä¸»é¢˜ï¼ˆcold/neutral/warm/hotï¼‰
- åŠ¨æ€CSSç”Ÿæˆå’Œåº”ç”¨
- CSSå˜é‡ç³»ç»Ÿ
- å¹³æ»‘è¿‡æ¸¡åŠ¨ç”»

### âœ… 2. äº¤äº’è°ƒèŠ‚å™¨ (InteractionAdjuster)

**æ–‡ä»¶**: `frontend/services/temperature-engine/adjusters/InteractionAdjuster.ts`

**åŠŸèƒ½**:
- âœ… åé¦ˆå»¶è¿Ÿè°ƒæ•´
- âœ… åŠ¨ç”»æŒç»­æ—¶é—´è°ƒæ•´
- âœ… åé¦ˆå¼ºåº¦æ§åˆ¶ï¼ˆsubtle/normal/strongï¼‰
- âœ… è§¦è§‰åé¦ˆæ”¯æŒ
- âœ… å£°éŸ³åé¦ˆæ”¯æŒ
- âœ… ç‚¹å‡»/æ‚¬åœ/ç„¦ç‚¹åé¦ˆ

**æ ¸å¿ƒç‰¹æ€§**:
- æ ¹æ®æ¸©åº¦æ„Ÿè°ƒæ•´äº¤äº’å“åº”é€Ÿåº¦
- è§¦è§‰åé¦ˆï¼ˆéœ‡åŠ¨ï¼‰
- äº¤äº’åŠ¨ç”»æ§åˆ¶
- åé¦ˆå¼ºåº¦åˆ†çº§

### âœ… 3. å†…å®¹è°ƒèŠ‚å™¨ (ContentAdjuster)

**æ–‡ä»¶**: `frontend/services/temperature-engine/adjusters/ContentAdjuster.ts`

**åŠŸèƒ½**:
- âœ… æ–‡æœ¬å†…å®¹æ¸©åº¦æ„Ÿè°ƒæ•´
- âœ… é—®å€™è¯­ç”Ÿæˆ
- âœ… å›åº”ç”Ÿæˆ
- âœ… é¼“åŠ±è¯­ç”Ÿæˆ
- âœ… å‘Šåˆ«è¯­ç”Ÿæˆ
- âœ… æ‰¹é‡å†…å®¹è°ƒèŠ‚
- âœ… ä¸Šä¸‹æ–‡æ„ŸçŸ¥çš„å†…å®¹ç”Ÿæˆ

**æ ¸å¿ƒç‰¹æ€§**:
- 4ç§æ¸©åº¦æ„Ÿçº§åˆ«çš„å†…å®¹æ¨¡æ¿
- è¡¨æƒ…ç¬¦å·æ™ºèƒ½æ·»åŠ 
- è¯­æ°”è¯è°ƒæ•´
- æ—¶é—´æ„ŸçŸ¥çš„å†…å®¹ç”Ÿæˆ

### âœ… 4. è§’è‰²è°ƒèŠ‚å™¨ (CharacterAdjuster)

**æ–‡ä»¶**: `frontend/services/temperature-engine/adjusters/CharacterAdjuster.ts`

**åŠŸèƒ½**:
- âœ… è§’è‰²è¡¨æƒ…å»ºè®®
- âœ… è§’è‰²åŠ¨ä½œå»ºè®®
- âœ… è¯­è¨€é£æ ¼å»ºè®®
- âœ… å“åº”é€Ÿåº¦å»ºè®®
- âœ… æ ¹æ®æƒ…ç»ªè°ƒæ•´è§’è‰²
- âœ… è¡¨æƒ…/åŠ¨ä½œåˆ°æ¸©åº¦æ„Ÿçš„æ˜ å°„

**æ ¸å¿ƒç‰¹æ€§**:
- 8ç§è¡¨æƒ…ç±»å‹
- 8ç§åŠ¨ä½œç±»å‹
- 4ç§è¯­è¨€é£æ ¼
- æƒ…ç»ªåˆ°è§’è‰²çš„æ˜ å°„

### âœ… 5. æ ¸å¿ƒå¼•æ“é›†æˆ

**æ›´æ–°æ–‡ä»¶**: `frontend/services/temperature-engine/core/TemperatureEngine.ts`

**é›†æˆå†…å®¹**:
- âœ… é›†æˆUIè°ƒèŠ‚å™¨
- âœ… é›†æˆäº¤äº’è°ƒèŠ‚å™¨
- âœ… é›†æˆå†…å®¹è°ƒèŠ‚å™¨
- âœ… é›†æˆè§’è‰²è°ƒèŠ‚å™¨
- âœ… æ›´æ–°è°ƒèŠ‚æ¸©åº¦æ„Ÿæ–¹æ³•
- âœ… æ›´æ–°è°ƒèŠ‚å†…å®¹æ–¹æ³•
- âœ… æ–°å¢è°ƒèŠ‚è§’è‰²æ–¹æ³•
- âœ… æ–°å¢å†…å®¹ç”Ÿæˆæ–¹æ³•ï¼ˆé—®å€™ã€é¼“åŠ±ã€å‘Šåˆ«ï¼‰
- âœ… æ–°å¢è·å–è°ƒèŠ‚å™¨æ–¹æ³•

---

## ğŸ“Š ä»£ç ç»Ÿè®¡

- **æ–°å¢æ–‡ä»¶æ•°**: 4ä¸ª
- **ä»£ç è¡Œæ•°**: çº¦2500è¡Œ
- **åŠŸèƒ½å®ç°**: å®Œæ•´
- **ç±»å‹å®šä¹‰**: å®Œæ•´

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### å·²å®ç°

1. âœ… **UIè°ƒèŠ‚**
   - åŠ¨æ€é¢œè‰²ä¸»é¢˜åˆ‡æ¢
   - åŠ¨ç”»æ•ˆæœæ§åˆ¶
   - é˜´å½±å’Œåœ†è§’è°ƒæ•´
   - CSSå˜é‡ç³»ç»Ÿ

2. âœ… **äº¤äº’è°ƒèŠ‚**
   - åé¦ˆå»¶è¿Ÿè°ƒæ•´
   - åŠ¨ç”»æŒç»­æ—¶é—´è°ƒæ•´
   - è§¦è§‰åé¦ˆ
   - å£°éŸ³åé¦ˆ

3. âœ… **å†…å®¹è°ƒèŠ‚**
   - æ–‡æœ¬æ¸©åº¦æ„Ÿè°ƒæ•´
   - é—®å€™è¯­ç”Ÿæˆ
   - é¼“åŠ±è¯­ç”Ÿæˆ
   - å‘Šåˆ«è¯­ç”Ÿæˆ

4. âœ… **è§’è‰²è°ƒèŠ‚**
   - è¡¨æƒ…å»ºè®®
   - åŠ¨ä½œå»ºè®®
   - è¯­è¨€é£æ ¼å»ºè®®
   - å“åº”é€Ÿåº¦å»ºè®®

---

## ğŸ”§ ä½¿ç”¨ç¤ºä¾‹

### å®Œæ•´æµç¨‹

```typescript
import { TemperatureEngine } from './services/temperature-engine';

const engine = new TemperatureEngine();
await engine.start();

// è®¡ç®—æ¸©åº¦æ„Ÿ
const temperature = await engine.calculateTemperature({
  userEmotion: 'happy',
  context: { /* ... */ },
});

// è‡ªåŠ¨è°ƒèŠ‚æ‰€æœ‰æ–¹é¢
await engine.adjustTemperature(temperature.level, {
  elements: ['button', '.card'],
  animation: true,
});

// è°ƒèŠ‚å†…å®¹
const warmMessage = await engine.adjustContent({
  original: 'ä½ å¥½',
  targetTemperature: temperature.level,
});

// è°ƒèŠ‚è§’è‰²
const characterConfig = await engine.adjustCharacter(temperature.level, {
  emotion: 'happy',
});

// ç”Ÿæˆé—®å€™è¯­
const greeting = engine.generateGreeting(temperature.level);
```

### å•ç‹¬ä½¿ç”¨è°ƒèŠ‚å™¨

```typescript
import { UIAdjuster, ContentAdjuster } from './services/temperature-engine';

// UIè°ƒèŠ‚
const uiAdjuster = new UIAdjuster();
await uiAdjuster.adjust('warm', {
  elements: ['button', '.card'],
});

// å†…å®¹è°ƒèŠ‚
const contentAdjuster = new ContentAdjuster();
const warmContent = await contentAdjuster.adjust({
  original: 'ä½ å¥½',
  targetTemperature: 'warm',
});
```

---

## ğŸ¨ è°ƒèŠ‚æ•ˆæœ

### UIè°ƒèŠ‚æ•ˆæœ

- **Cold**: å†·é™è“è‰²ç³»ï¼Œç®€æ´è®¾è®¡
- **Neutral**: ä¸­æ€§ç°è‰²ç³»ï¼Œæ ‡å‡†è®¾è®¡
- **Warm**: æ¸©æš–ç²‰è‰²ç³»ï¼ŒæŸ”å’Œè®¾è®¡
- **Hot**: çƒ­æƒ…çº¢è‰²ç³»ï¼Œæ´»åŠ›è®¾è®¡

### äº¤äº’è°ƒèŠ‚æ•ˆæœ

- **Cold**: å»¶è¿Ÿ150msï¼Œsubtleåé¦ˆ
- **Neutral**: å»¶è¿Ÿ100msï¼Œnormalåé¦ˆ
- **Warm**: å»¶è¿Ÿ50msï¼Œnormalåé¦ˆ + è§¦è§‰
- **Hot**: å»¶è¿Ÿ30msï¼Œstrongåé¦ˆ + è§¦è§‰ + å£°éŸ³

### å†…å®¹è°ƒèŠ‚æ•ˆæœ

- **Cold**: "ä½ å¥½" â†’ "ä½ å¥½"
- **Neutral**: "ä½ å¥½" â†’ "ä½ å¥½ï¼"
- **Warm**: "ä½ å¥½" â†’ "ä½ å¥½å‘€ï¼ä»Šå¤©æƒ³èŠç‚¹ä»€ä¹ˆå—ï¼Ÿ âœ¨"
- **Hot**: "ä½ å¥½" â†’ "ä½ å¥½å‘€ï¼ä»Šå¤©æƒ³èŠç‚¹ä»€ä¹ˆå—ï¼Ÿè®©æˆ‘ä»¬ä¸€èµ·åº¦è¿‡ç¾å¥½çš„æ—¶å…‰å§ï¼ âœ¨ğŸ’™"

### è§’è‰²è°ƒèŠ‚æ•ˆæœ

- **Cold**: ä¸­æ€§è¡¨æƒ…ï¼Œå¾…æœºåŠ¨ä½œï¼Œæ­£å¼è¯­è¨€
- **Neutral**: ä¸­æ€§è¡¨æƒ…ï¼Œå€¾å¬åŠ¨ä½œï¼Œéšæ„è¯­è¨€
- **Warm**: å¼€å¿ƒè¡¨æƒ…ï¼Œå€¾å¬åŠ¨ä½œï¼Œæ¸©æš–è¯­è¨€
- **Hot**: å…´å¥‹è¡¨æƒ…ï¼ŒæŒ¥æ‰‹åŠ¨ä½œï¼Œçƒ­æƒ…è¯­è¨€

---

## âœ… è´¨é‡æ£€æŸ¥

- âœ… **ç±»å‹å®‰å…¨**: å®Œæ•´çš„TypeScriptç±»å‹å®šä¹‰
- âœ… **ä»£ç è§„èŒƒ**: æ— linté”™è¯¯
- âœ… **åŠŸèƒ½å®Œæ•´**: æ‰€æœ‰è°ƒèŠ‚åŠŸèƒ½å·²å®ç°
- âœ… **æ–‡æ¡£å®Œæ•´**: ä»£ç æ³¨é‡Šå’Œä½¿ç”¨ç¤ºä¾‹
- âœ… **å¯æ‰©å±•**: æ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºæ‰©å±•

---

## ğŸš€ ä¸‹ä¸€æ­¥

### ç¬¬å››é˜¶æ®µï¼šæ’ä»¶ç³»ç»Ÿï¼ˆ2-3å¤©ï¼‰

1. [ ] å®ç°æ’ä»¶ç®¡ç†å™¨ (`PluginManager.ts`)
2. [ ] å®ç°æ’ä»¶æ¥å£ (`PluginInterface.ts`)
3. [ ] åˆ›å»ºå†…ç½®æ’ä»¶
   - [ ] é—®å€™æ’ä»¶ (`GreetingPlugin.ts`)
   - [ ] è¡¨æƒ…æ’ä»¶ (`ExpressionPlugin.ts`)
   - [ ] å¯¹è¯æ’ä»¶ (`DialoguePlugin.ts`)
4. [ ] æ’ä»¶é…ç½®ç³»ç»Ÿ
5. [ ] æ’ä»¶ç”Ÿå‘½å‘¨æœŸç®¡ç†

### é›†æˆæµ‹è¯•ï¼ˆ1-2å¤©ï¼‰

1. [ ] é›†æˆåˆ°ChatWindow
2. [ ] é›†æˆåˆ°EntryPoint
3. [ ] æ€§èƒ½æµ‹è¯•
4. [ ] ç”¨æˆ·ä½“éªŒæµ‹è¯•

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [æ¸©åº¦æ„Ÿå¼•æ“æ¶æ„è®¾è®¡](./æ¸©åº¦æ„Ÿå¼•æ“æ¶æ„è®¾è®¡.md)
- [æ¸©åº¦æ„Ÿå¼•æ“å¿«é€Ÿå¯åŠ¨](./æ¸©åº¦æ„Ÿå¼•æ“å¿«é€Ÿå¯åŠ¨.md)
- [ç¬¬ä¸€é˜¶æ®µå®Œæˆæ€»ç»“](./æ¸©åº¦æ„Ÿå¼•æ“ç¬¬ä¸€é˜¶æ®µå®Œæˆæ€»ç»“.md)
- [ç¬¬äºŒé˜¶æ®µå®Œæˆæ€»ç»“](./æ¸©åº¦æ„Ÿå¼•æ“ç¬¬äºŒé˜¶æ®µå®Œæˆæ€»ç»“.md)

---

## ğŸ‰ æ€»ç»“

ç¬¬ä¸‰é˜¶æ®µæ¸©åº¦æ„Ÿè°ƒèŠ‚å±‚å·²æˆåŠŸå®ç°ï¼Œæ ¸å¿ƒåŠŸèƒ½åŒ…æ‹¬ï¼š

- âœ… **å®Œæ•´çš„UIè°ƒèŠ‚ç³»ç»Ÿ**: åŠ¨æ€ä¸»é¢˜åˆ‡æ¢ï¼Œå¹³æ»‘è¿‡æ¸¡
- âœ… **æ™ºèƒ½çš„äº¤äº’è°ƒèŠ‚**: åé¦ˆå»¶è¿Ÿã€è§¦è§‰ã€å£°éŸ³
- âœ… **ä¸°å¯Œçš„å†…å®¹è°ƒèŠ‚**: æ–‡æœ¬è°ƒæ•´ã€é—®å€™ç”Ÿæˆã€é¼“åŠ±è¯­
- âœ… **çµæ´»çš„è§’è‰²è°ƒèŠ‚**: è¡¨æƒ…ã€åŠ¨ä½œã€è¯­è¨€é£æ ¼

**è°ƒèŠ‚å±‚å·²å°±ç»ªï¼Œæ¸©åº¦æ„Ÿå¼•æ“æ ¸å¿ƒåŠŸèƒ½å·²å®Œæˆï¼** ğŸš€

---

**å®Œæˆäºº**: AIåŠ©æ‰‹  
**å®Œæˆæ—¶é—´**: 2025-12-28

