server:
  port: 8082

spring:
  application:
    name: aiagent-service
  # CORS 配置
  web:
    cors:
      allowed-origins: '*'
      allowed-methods: GET, POST, PUT, DELETE, OPTIONS
      allowed-headers: '*'
      allow-credentials: true
  
  # 数据库配置（使用 H2 内存数据库，便于测试）
  datasource:
    url: jdbc:h2:mem:aiagentdb
    driver-class-name: org.h2.Driver
    username: sa
    password: 
  
  h2:
    console:
      enabled: true
      path: /h2-console
  
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        dialect: org.hibernate.dialect.H2Dialect
        format_sql: true
  # Spring AI 配置
  ai:
    # 通义千问 (Alibaba) - 使用 Spring AI Alibaba
    dashscope:
      api-key: ${ALIBABA_API_KEY:sk-a486b81e29484fcea112b2c010b7bd95}
      chat:
        options:
          model: ${ALIBABA_CHAT_MODEL:qwen-max}
          temperature: 0.7
    
    # OpenAI 兼容 API (可用于国内服务)
    openai:
      api-key: ${OPENAI_API_KEY:your-openai-api-key}
      base-url: ${OPENAI_BASE_URL:https://api.openai.com/v1}
      chat:
        options:
          model: gpt-4
          temperature: 0.7
    
    # Ollama (本地模型)
    ollama:
      base-url: ${OLLAMA_BASE_URL:http://localhost:11434}
      chat:
        options:
          model: llama2
          temperature: 0.7

# AI Agent 配置
aiagent:
  # 工作流配置
  workflow:
    max-concurrent-agents: 10
    default-timeout: 30000 # 30秒
    enable-persistence: true
  
  # 大模型配置
  models:
    # 文字模型
    text:
      default-provider: alibaba # alibaba, openai, ollama
      default-model: qwen3-max  # 默认使用 qwen3-max
      providers:
        alibaba:
          enabled: true
          api-key: sk-a486b81e29484fcea112b2c010b7bd95
          models:
            - qwen3-max  # 优先使用 qwen3-max
            - qwen-max
            - qwen-plus
            - qwen-turbo
        openai:
          enabled: true
          models:
            - gpt-4
            - gpt-3.5-turbo
        ollama:
          enabled: false
          models:
            - llama2
            - mistral
    
    # 图片生成模型
    image:
      default-provider: alibaba
      providers:
        alibaba:
          enabled: true
          models:
            - wanx-v1
        openai:
          enabled: true
          models:
            - dall-e-3
            - dall-e-2
    
    # 语音模型
    audio:
      default-provider: alibaba
      providers:
        alibaba:
          enabled: true
          models:
            - paraformer-v2
        openai:
          enabled: true
          models:
            - tts-1
            - tts-1-hd
    
    # 视频生成模型
    video:
      default-provider: alibaba
      providers:
        alibaba:
          enabled: true
          models:
            - wanx-video
        openai:
          enabled: false

# 高德地图配置
amap:
  api-key: ${AMAP_API_KEY:9173650ec101b28beabd65c0578b888c}

# 日志配置
logging:
  level:
    com.heartsphere.aiagent: DEBUG
    org.springframework.ai: INFO
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} - %msg%n"

