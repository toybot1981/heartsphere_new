# 🚀 开始执行前端功能测试

## 立即开始

按照以下步骤开始执行测试：

---

## 第一步：环境准备（5分钟）

### 1. 启动后端服务

```bash
# 进入后端目录
cd backend

# 启动后端服务（如果还没启动）
mvn spring-boot:run

# 验证后端运行（新开终端）
curl http://localhost:8081/api/auth/invite-code-required
```

**预期结果**: 返回JSON响应，表示后端正常运行

---

### 2. 启动前端服务

```bash
# 进入前端目录
cd frontend

# 安装依赖（如果还没安装）
npm install

# 启动开发服务器
npm run dev
```

**预期结果**: 显示类似 `Local: http://localhost:5173` 的信息

---

### 3. 打开浏览器

1. 打开 Chrome 浏览器（推荐）
2. 访问 `http://localhost:5173`
3. 打开开发者工具（F12）
4. 切换到 Console 标签，查看是否有错误

**预期结果**: 页面正常加载，无红色错误信息

---

## 第二步：执行快速测试（30分钟）

### 测试1：应用初始化（2分钟）

**操作**:
1. 刷新页面
2. 观察页面加载

**检查点**:
- [ ] 页面正常加载
- [ ] 显示登录/注册界面
- [ ] 控制台无错误（红色）

**记录**: 在测试记录表中记录结果

---

### 测试2：用户注册（5分钟）

**操作**:
1. 点击"注册"标签
2. 填写信息：
   - 用户名: `testuser_001`
   - 邮箱: `test001@test.com`
   - 密码: `Test123456`
   - 确认密码: `Test123456`
   - 昵称: `测试用户001`
3. 如果系统要求，输入邀请码
4. 点击"注册"

**检查点**:
- [ ] 注册成功
- [ ] 自动登录
- [ ] 跳转到入口点或欢迎页面
- [ ] localStorage中有 `auth_token`

**如果失败**: 记录错误信息，继续测试登录功能

---

### 测试3：用户登录（3分钟）

**操作**:
1. 如果已登录，先退出
2. 点击"登录"
3. 输入刚才注册的账号密码
4. 点击"登录"

**检查点**:
- [ ] 登录成功
- [ ] 跳转到入口点页面
- [ ] 显示用户信息

---

### 测试4：创建世界（5分钟）

**操作**:
1. 进入"真实世界"页面（如果还没进入）
2. 点击"创建世界"按钮
3. 填写信息：
   - 世界名称: `测试世界001`
   - 世界描述: `这是一个测试世界`
4. 点击"保存"

**检查点**:
- [ ] 世界创建成功
- [ ] 显示在世界列表中
- [ ] 可以点击进入

**如果失败**: 记录错误信息

---

### 测试5：创建场景（10分钟）

**操作**:
1. 进入刚才创建的世界
2. 点击"创建场景"
3. 填写信息：
   - 场景名称: `测试场景001`
   - 场景描述: `这是一个测试场景`
4. 上传场景图片：
   - 点击"上传图片"
   - 选择一张本地图片（PNG或JPG，小于5MB）
   - 等待上传完成
5. 点击"保存"

**检查点**:
- [ ] 场景创建成功
- [ ] 图片上传成功
- [ ] 图片预览正确
- [ ] 场景显示在列表中

**如果失败**: 记录错误信息，特别是图片上传相关的问题

---

### 测试6：创建角色（10分钟）

**操作**:
1. 进入刚才创建的场景
2. 点击"创建角色"
3. 填写基础信息：
   - 姓名: `测试角色001`
   - 年龄: `20`
   - 性别: `女`
   - 角色: `学生`
   - 简介: `这是一个测试角色`
4. 上传头像：
   - 点击"上传头像"
   - 选择一张本地图片
   - 等待上传完成
5. 填写其他信息（可选）：
   - 主题色: `#FF6B9D`
   - 首条消息: `你好，我是测试角色`
6. 点击"保存"

**检查点**:
- [ ] 角色创建成功
- [ ] 头像上传成功
- [ ] 角色显示在列表中
- [ ] 可以点击进入对话

**如果失败**: 记录错误信息

---

### 测试7：对话功能（5分钟）

**操作**:
1. 点击刚才创建的角色
2. 进入对话页面
3. 在输入框中输入: `你好`
4. 点击"发送"或按Enter
5. 等待AI回复

**检查点**:
- [ ] 消息显示在对话窗口
- [ ] AI回复正常（可能需要配置API Key）
- [ ] 如果API Key未配置，显示友好提示

**注意**: 如果AI回复失败，这是正常的（需要配置API Key），但应该显示友好提示

---

## 第三步：记录测试结果

### 使用测试记录表

创建文件 `测试记录_YYYYMMDD.md`，记录测试结果：

```markdown
# 测试记录 - 2025-12-XX

## 测试概览
- **测试日期**: 2025-12-XX
- **测试人员**: [您的姓名]
- **测试时间**: [开始时间] - [结束时间]

## 测试结果

### 测试1：应用初始化
- **状态**: ✅ 通过 / ❌ 失败
- **实际结果**: [描述]
- **问题**: [如有问题，描述]

### 测试2：用户注册
- **状态**: ✅ 通过 / ❌ 失败
- **实际结果**: [描述]
- **问题**: [如有问题，描述]

... (继续记录其他测试)

## 问题汇总

### BUG-001: [问题标题]
- **发现时间**: [时间]
- **功能模块**: [模块]
- **问题描述**: [详细描述]
- **复现步骤**: 
  1. [步骤1]
  2. [步骤2]
- **优先级**: P0/P1/P2
- **状态**: 待修复

## 测试总结
- **总测试数**: [数量]
- **通过**: [数量]
- **失败**: [数量]
- **通过率**: [百分比]%
```

---

## 第四步：继续详细测试

完成快速测试后，按照以下文档进行详细测试：

1. **前端功能测试计划.md** - 详细的测试用例
2. **前端测试快速清单.md** - 快速参考清单
3. **测试执行指南.md** - 完整的测试执行流程

---

## 常见问题处理

### 问题1：后端无法启动

**检查**:
- Java版本是否正确（需要Java 17+）
- 端口8081是否被占用
- 数据库连接是否正常

**解决**:
```bash
# 检查端口占用
lsof -i :8081

# 如果被占用，杀死进程
kill -9 [PID]
```

---

### 问题2：前端无法启动

**检查**:
- Node.js版本（需要Node 16+）
- 依赖是否安装完整

**解决**:
```bash
# 清除缓存重新安装
rm -rf node_modules package-lock.json
npm install
```

---

### 问题3：API请求失败

**检查**:
- 后端是否运行
- API地址是否正确（应该是 `http://localhost:8081/api`）
- 网络连接是否正常

**解决**:
- 检查 `frontend/services/api.ts` 中的 `API_BASE_URL`
- 确认后端服务正常运行

---

### 问题4：页面空白或错误

**检查**:
- 浏览器控制台是否有错误
- 网络请求是否成功
- 是否有CORS错误

**解决**:
- 查看控制台错误信息
- 检查后端CORS配置
- 清除浏览器缓存

---

## 测试执行时间表

### 今天（第一天）
- [x] 环境准备
- [ ] 快速测试（30分钟）
- [ ] 用户认证详细测试（30分钟）
- [ ] 世界管理详细测试（30分钟）

### 明天（第二天）
- [ ] 场景管理详细测试（45分钟）
- [ ] 角色管理详细测试（60分钟）
- [ ] 对话功能详细测试（90分钟）

### 后续
- 按照"测试执行指南.md"继续执行

---

## 需要帮助？

如果遇到问题：

1. **查看文档**:
   - 测试执行指南.md
   - 前端功能测试计划.md
   - 前端测试快速清单.md

2. **检查代码**:
   - 查看浏览器控制台错误
   - 查看网络请求
   - 查看后端日志

3. **记录问题**:
   - 使用问题记录模板
   - 截图保存证据
   - 通知开发人员

---

## 🎯 现在开始！

1. ✅ 完成"第一步：环境准备"
2. ✅ 完成"第二步：执行快速测试"
3. ✅ 完成"第三步：记录测试结果"
4. ✅ 继续"第四步：详细测试"

**祝测试顺利！** 🎉

---

**创建时间**: 2025年12月  
**最后更新**: 2025年12月


